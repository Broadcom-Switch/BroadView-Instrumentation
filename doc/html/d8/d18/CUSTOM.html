<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BroadView&trade; API Guide and Reference Manual: Custom Components</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">BroadView&trade; API Guide and Reference Manual
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="../../pages.html"><span>BroadViewâ„¢&#160;Documentation</span></a></li>
      <li><a href="../../modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d8/db7/OPENAPPS_GUIDE.html">Software Overview</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Custom Components </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="WEB"></a>
Web Server</h2>
<p>The default web server provided by the Agent doesn't handle the security and the discovery/load-sharing aspects. This section describes the interfaces between the web server component and the rest of the Agent system, so that another webserver component can be used, or the agent can be integrated into the NOS supported webserver easily.</p>
<p>There are only two interactions between the WEB server component and the rest of the Agent components (aside from init function). Any webserver implementation can be used as long as these two interactions are satisfied.</p>
<h2><a class="anchor" id="RESTAPI_HANDLE"></a>
REST API Handlers</h2>
<p>When a REST API invoked by the collector is received by the Web server, it needs to invoke a handler for processing the request. The steps are presented below as pseudo code.</p>
<div class="image">
<img src="../../rest.jpg" alt="rest.jpg"/>
</div>
<p> The cookie must contain information required to send back response. For example, it may contain the socket details on which the response must be sent. It is passed as a parameter to the rest_response_send() API (see next section).</p>
<p>It must be noted that the connection must not be closed while response is being prepared by the handler.</p>
<h2><a class="anchor" id="REST_SEND_RESP"></a>
Sending Response</h2>
<p>An API rest_response_send() is expected to be provided by the Web server component, for sending asynchronous reports or on-demand reports to collector.</p>
<p>The prototype of this function is as follows:</p>
<p>BVIEW_STATUS rest_response_send(void *cookie, char *pBuf, int size);</p>
<p>For asynchronous reports the cookie parameter is passed as NULL. In that case, the data from the pBuf buffer, sized size must be sent to the pre-designated collector.</p>
<p>If the cookie parameter is not NULL, after validating that cookie is valid, the data from the pBuf buffer, sized size must be sent on the previously unclosed connection identified by the cookie parameter. </p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 2 2015 22:51:09 for BroadView&trade; API Guide and Reference Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
