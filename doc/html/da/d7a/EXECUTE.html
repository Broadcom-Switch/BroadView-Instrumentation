<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BroadView&trade; API Guide and Reference Manual: Running the Agent and Reference Application</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BroadView&trade; API Guide and Reference Manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="../../pages.html"><span>BroadViewâ„¢&#160;Documentation</span></a></li>
      <li><a href="../../modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d93/OPENNSL.html">Building BroadView&trade; Source Code</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Running the Agent and Reference Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The BroadViewAgent and the reference application (BroadViewBstApp or BroadViewPacketTraceApp) communicate over HTTP. Each of the application maintains respective configuration files. The default location of configuration file has to be in the same directory where the application is present. Follow the steps mentioned below, to start BroadViewAgent.</p>
<p>1.cd to directory where BroadViewAgent is located</p>
<p>2.Copy the agent_config.cfg created earlier</p>
<p># scp &lt;username&gt;\&lt;server_ip&gt;:&lt;file_path&gt;/agent_config.cfg</p>
<p>3.Start BroadViewAgent</p>
<p># ./BroadViewAgent &amp;</p>
<p>Follow the steps, mentioned below, to start BroadViewBstApp.</p>
<p>1.cd to directory where BroadViewBstApp is located</p>
<p>2.Copy the bstapp_config.cfg created earlier</p>
<p># scp &lt;username&gt;&lt;server_ip&gt;:&lt;file_path&gt;/bstapp_config.cfg .</p>
<p>3.Start BroadViewBstApp</p>
<p># ./BroadViewBstApp &amp;</p>
<p>Switch can also be configured to use ExampleCfgApp. The arguments passed th BroadViewAgent would be the one shown below</p>
<p># ./BroadViewAgent -c</p>
<p>The output is displayed below</p>
<p>root@56_07:/root/pt&gt; ./BroadViewBstApp -d<br/>
 BroadViewBstApp Version 2.0.4.3<br/>
 BSTAPP : Configuring ...BSTAPP : Reading configuration from bstapp_config.cfg<br/>
 BSTAPP : Configuration file bstapp_config.cfg not found:<br/>
 BSTAPP : Setting configuration to defaults<br/>
 BSTAPP : Using default configuration 127.0.0.1:8080 &lt;&ndash;&gt;local:9070, Max 10 Reports<br/>
 BSTAPP : Configuration CompleteStarting communication with agent<br/>
 1.Configure BST feature<br/>
 2.Configure BST tracking<br/>
 3.Configure BST threshold<br/>
 4.Clear BST statistics<br/>
 5.Clear BST threshold<br/>
 6.Get BST feature<br/>
 7.Get BST tracking<br/>
 8.Get BST thresholds<br/>
 9.Get BST report<br/>
 10.Exit<br/>
 Select an option from the menu:<br/>
</p>
<p>Follow the steps, mentioned below, to start BroadViewPacketTraceApp.</p>
<p>1.cd to directory where BroadViewPacketTraceApp is located<br/>
 2.Copy the ptapp_config.cfg created earlier<br/>
</p>
<p># scp &lt;username&gt;&lt;server_ip&gt;:&lt;file_path&gt;/ptapp_config.cfg .<br/>
</p>
<p>3.Start BroadViewPacketTraceApp<br/>
</p>
<p># ./BroadViewPacketTraceApp</p>
<p>The output is displayed below</p>
<p># ./BroadViewPacketTraceApp BroadViewPacketTraceApp Version 2.0.4.3</p>
<p>1.Configure Packet Trace Feature<br/>
 2.Get Packet Trace feature status<br/>
 3.Trace a packet<br/>
 4.Trace LAG resolution for a packet<br/>
 5.Trace ECMP resolution for a packet<br/>
 6.Cancel Packet Trace profile request<br/>
 7.Cancel Packet Trace LAG resolution request<br/>
 8.Cancel Packet Trace ECMP resolution request<br/>
 9.Exit<br/>
 Select an option from the menu:<br/>
</p>
<p>Chip configuration can be done using ExampleCfgApp. The ExampleCfgApp is menu based which can be used to configure various L2/L3 features. The application can be used to configure Lag, add members to lag, create L3 interface, add ARP entries, etc. These configurations are required for ECMP or Lag resolution.</p>
<pre></pre><pre>1.Configure L2 related parameters
2.Configure L3 related parameters
3.Configure system related parameters
4.Exit
Select an option from the menu:1</pre><pre>1.Create VLAN
2.Delete VLAN
3.Add member to VLAN
4.Delete member from VLAN
5.Configure LAG
6.Delete LAG
7.Add member to LAG
8.Delete member from LAG
15.Exit
Select an option from the menu:</pre><pre></pre><p>Lag Configuration using ExampleCfgApp:</p>
<p>1.Configure Lag id<br/>
 2.Add members to the lag<br/>
</p>
<pre></pre><pre># ./ExampleCfgApp</pre><pre>1.Configure L2 related parameters
2.Configure L3 related parameters
3.Configure system related parameters
4.Exit
Select an option from the menu:2</pre><pre>1.Create L3 Interface
2.Delete L3 Interface
3.Add L3 route
4.Delete L3 route
5.Add ARP entry
6.Delete ARP entry
15.Exit
Select an option from the menu:</pre><pre></pre><p>L3 Configuration required for ECMP resolution</p>
<p>1.Configure L3 interfaces<br/>
 2.Add ARP entries for next hop<br/>
 3.Add L3 route<br/>
</p>
<p>Once the above mentioned configuration is done a packet will be switched/ routed accordingly.</p>
<p>Note: The default port numbers for the reference applications are same. So, port numbers must be changed to avoid any conflicts. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 30 2015 18:57:39 for BroadView&trade; API Guide and Reference Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
