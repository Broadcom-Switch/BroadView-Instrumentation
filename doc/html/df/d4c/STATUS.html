<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BroadView&trade; API Guide and Reference Manual: Status / Reporting Commands</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">BroadView&trade; API Guide and Reference Manual
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="../../pages.html"><span>BroadViewâ„¢&#160;Documentation</span></a></li>
      <li><a href="../../modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dc/d3f/REST.html">BST REST API</a>      </li>
      <li class="navelem"><a class="el" href="../../db/d6e/API_REST.html">API</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Status / Reporting Commands </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="GET_BST"></a>
Get BST Feature</h2>
<p>The get-bst-feature command is used to retrieve the current configuration of the BST functionality on the Agent .</p>
<p>The parameters associated with this commands are described below.</p>
<div class="image">
<img src="../../get_bst.jpg" alt="get_bst.jpg"/>
</div>
<p> For the response, the agent returns the same parameters as that of the configure-bst-feature command.</p>
<p>The associated REST URL for this command is as follows:</p>
<p><a href="http://">http://</a>&lt;ipaddr&gt;:8080/broadview/bst/get-bst-feature</p>
<p>A sample JSON-RPC request is shown below.</p>
<div class="image">
<img src="../../get_bst_feature.jpg" alt="get_bst_feature.jpg"/>
</div>
<p> The Agent may return appropriate error code</p>
<h2><a class="anchor" id="GET_TRACK"></a>
Get BST Tracking</h2>
<p>The get-bst-tracking command is used to retrieve the current BST tracking configuration of the Broadcom ASIC. The parameters associated with this commands are described below.</p>
<div class="image">
<img src="../../get_bst.jpg" alt="get_bst.jpg"/>
</div>
<p> For the response, the agent returns the same parameters as that of the configure-bst-tracking command.</p>
<p>Note that this command is valid even when the feature is disabled on the agent.</p>
<p>The associated REST URL for this command is as follows: <a href="http://">http://</a>&lt;ipaddr&gt;:8080/broadview/bst/get-bst-tracking</p>
<p>A sample JSON-RPC request is shown below.</p>
<div class="image">
<img src="../../get_bst_tracking.jpg" alt="get_bst_tracking.jpg"/>
</div>
<p> The Agent may return appropriate error code</p>
<h2><a class="anchor" id="GET_THRESH"></a>
Get BST Thresholds</h2>
<p>The get-bst-thresholds command is used to retrieve the currently configured BST Thresholds from the Agent. The Controller may choose to request for selective report (see parameters below).</p>
<div class="image">
<img src="../../get_bst_thresh.jpg" alt="get_bst_thresh.jpg"/>
</div>
<p> The associated REST URL for this command is as follows:</p>
<p><a href="http://">http://</a>&lt;ipaddr&gt;:8080/broadview/bst/get-bst-thresholds</p>
<div class="image">
<img src="../../get_bst_threshold.jpg" alt="get_bst_threshold.jpg"/>
</div>
<p> The agent always returns a complete report, for the requested thresholds.</p>
<p>The thresholds in the ASIC are set by the agent only as part of configure-bst-thresholds command. Unlike statistics, the threshold configuration does not change on its own. For this reason, it is not necessary to retrieve a periodic Threshold report from the Agent.</p>
<p>The method object of the JSON message in the BST report is set to get-bst-thresholds, for the response message.</p>
<p>A sample BST thresholds report indicating various realms (categories) and the associated data is shown below. It is provided for illustrative purposes only and does not include all port/queue/pool data in it. Rather, the JSON array is used to indicate the multiplicity, while providing data for a single element.</p>
<div class="image">
<img src="../../get_bst_threshold_1.jpg" alt="get_bst_threshold_1.jpg"/>
</div>
<div class="image">
<img src="../../get_bst_threshold_2.jpg" alt="get_bst_threshold_2.jpg"/>
</div>
<div class="image">
<img src="../../get_bst_threshold_3.jpg" alt="get_bst_threshold_3.jpg"/>
</div>
 <h2><a class="anchor" id="BST_REPORT"></a>
Get BST Report</h2>
<p>The get-bst-report command is used to retrieve the current BST Report from the Agent. The Controller may choose to request for selective report (see parameters below).</p>
<div class="image">
<img src="../../bst_report.jpg" alt="bst_report.jpg"/>
</div>
<p> The associated REST URL for this command is as follows:</p>
<p><a href="http://">http://</a>&lt;ipaddr&gt;:8080/broadview/bst/get-bst-report</p>
<p>A sample JSON-RPC request is shown below.</p>
<div class="image">
<img src="../../get_bst_report.jpg" alt="get_bst_report.jpg"/>
</div>
<p> The agent always returns a complete report, for the requested buffer statistics.</p>
<p>It must be noted that the Agent returns the BST report following the command. However, the asynchronous reporting cycle may be reset.</p>
<p>The method object of the JSON message in the BST report is set to get-bst-report, for both the asynchronous notifications as well as the response message.</p>
<p>The parameters associated with this commands depend on the realm for which the buffer usage (count) is being reported. The list of realms and associated parameters / buffer-count for each realm is provided in <a class="el" href="../../db/d6e/API_REST.html">API</a>.</p>
<p>It may be noted that, at any point in time, the valid set of buffer counts (usage) depend on the MMU configuration of the Broadcom ASIC. Reader is encouraged to consult the Broadcom ASIC documentation for supported configurations.</p>
<p>A sample BST report indicating various realms (categories) and the associated statistics is shown below. It is provided for illustrative purposes only and does not include all the realm/port/queue/pool data in it. Rather, the JSON array is used to indicate the multiplicity, while providing data for a single element.</p>
<div class="image">
<img src="../../get_bst_report_1.jpg" alt="get_bst_report_1.jpg"/>
</div>
<div class="image">
<img src="../../get_bst_report_2.jpg" alt="get_bst_report_2.jpg"/>
</div>
<div class="image">
<img src="../../get_bst_report_3.jpg" alt="get_bst_report_3.jpg"/>
</div>
 <h2><a class="anchor" id="TRIGGER"></a>
Trigger Report</h2>
<p>When any of the configured threshold (via the configure-bst-thresholds) command is triggered i.e., the buffer usage crosses the configured threshold, an asynchronous notification is sent by the Agent. This notification is identical to an asynchronous BST report, with the exception that the method object has the value of trigger-report. A partial sample is shown below.</p>
<div class="image">
<img src="../../bst_trigger_1.jpg" alt="bst_trigger_1.jpg"/>
</div>
<div class="image">
<img src="../../bst_trigger_2.jpg" alt="bst_trigger_2.jpg"/>
</div>
<p> It must be noted that when a trigger situation is encountered (i.e. any of the configured thresholds are reached), ASIC freezes all the BST counters until the feature is re-enabled/re-configured. The Agent, in response to a trigger from ASIC, clears all the threshold values set on the ASIC and disables the feature itself. The Controller must re-configure the Agent with revised thresholds and re-enable the feature for the BST statistics operations to start again. </p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 2 2015 22:51:09 for BroadView&trade; API Guide and Reference Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
