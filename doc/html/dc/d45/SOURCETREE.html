<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BroadView&trade; API Guide and Reference Manual: Building the Source Code</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BroadView&trade; API Guide and Reference Manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="../../pages.html"><span>BroadViewâ„¢&#160;Documentation</span></a></li>
      <li><a href="../../modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d93/OPENNSL.html">Building BroadView&trade; Source Code</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Building the Source Code </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The individual module produces respective archive files (.a files.). All archive files are built under module specific subfolder in broadview/output directory. The common make file, tools/Make.common generates executable binaries for BroadViewAgent and the reference application.</p>
<p>Follow the steps mentioned below to build the source code:</p>
<p>1.Decompress the source code from the release archive.</p>
<p># bunzip2 &lt;release-archive-tarball.bz2&gt;<br/>
 # tar -xf tarball<br/>
</p>
<p>2.Set the OPENNSL build environment variable to point to the location of the OPENNSL source tree.</p>
<p># export OPENNSL = "path to OPENNSL source code"<br/>
 Eg: export OPENNSL = /home/tmp/opennsl-3.2.0.4-cdp</p>
<p>Note:</p>
<p>Ensure that the location pointed to by the OPENNSL environment variable has full read-write permissions.</p>
<p>3.Change the working directory to &lt;broadview-base&gt;/output/&lt;build signature&gt;</p>
<p># cd &lt;broadview-base&gt;/output/&lt;build signature&gt;<br/>
 Eg: cd &lt;broadview-base&gt;/output/Broadcom-td2_svk-gto-BL20-opennsl-6458-BPV</p>
<p>4.Edit "&lt;broadview-base&gt;/output/&lt;build signature&gt;/Makefile" and update CROSS_COMPILE variable pointing to installed tool chain location</p>
<p># export CROSS_COMPILE = "tool chain path"</p>
<p>5.Execute make command</p>
<p># make</p>
<p>The executables and the shared libraries generated by the make process can be located in &lt;broadview-base&gt;/output/&lt;build signature&gt;/deliverables directory.</p>
<div class="image">
<img src="../../executables.jpg" alt="executables.jpg"/>
</div>
<p> Notes:</p>
<p>1.The supplied makefiles &amp; scripts require make version 3.82. In particular, make version 4.x is not supported. To force the required version, ensure that the build system has support for make 3.82 and set the following environment variable.</p>
<p># export MAKEVER=3.82</p>
<p>2.Care must be taken to avoid spaces in directory names, since Linux commands normally treat spaces as parameter separator, thereby resulting in build failures. If it is a MUST that directory names contain embedded spaces, such space characters MUST be preceded by the escape character (\) while invoking the make command.</p>
<p>Both the agent (BroadViewAgent) and reference application (BroadViewBstApp and BroadViewPacketTraceApp) communicate over HTTP. A configuration file is needed for each of these applications. The file includes information like IP address and the Layer 4 ports used for the HTTP communication between them. These files are described below. Later instructions describe the process of using these files on the Platform.</p>
<h1><a class="anchor" id="BVIEWAGENT"></a>
BroadViewAgent</h1>
<p>The configuration file for the BroadViewAgent should be named as agent_config.cfg. The content of the file are properties described in name-value pairs, as mentioned below.</p>
<p>bview_client_ip=&lt;ip address of reference application&gt;</p>
<p>bview_client_port=&lt;port number to which reference application listens&gt;</p>
<p>agent_port=&lt;port number on which agent application listens&gt;</p>
<p>Sample file contents below</p>
<p>bview_client_ip=127.0.0.1<br/>
 bview_client_port=9070<br/>
 agent_port=8080<br/>
</p>
<p>A sample configuration file is part of the distribution at &lt;broadview-base&gt;/src/nb_plugin/rest/agent_config.cfg. Any Linux text editor can be used to edit this file to suit the needs. Any changes must be saved to the disk. The file must have Unix style line-endings.</p>
<p>No additional properties apart from those listed above are supported. If the configuration file can't be read by the BroadViewAgent, or if the file is corrupt, an error message is generated and factory default values are used. The factory default values are as follows:</p>
<p>Default BroadViewAgent IP Address is 127.0.0.1<br/>
 Default BroadViewAgent Port Number is 8080<br/>
 Default Reference Application Port Number is 9070<br/>
</p>
<h1><a class="anchor" id="APP"></a>
BroadViewBstApp</h1>
<p>The configuration file for the BroadViewBstApp should be named as bstapp_config.cfg. The content of the file are properties described in name-value pairs, as mentioned below.</p>
<p>agent_ip="&lt;ip address of agent &gt;"<br/>
 agent_port="&lt;port number to which agent listens&gt;"<br/>
 bstapp_port="&lt;port number to which reference application should listen&gt;"<br/>
 bstapp_max_reports="&lt;maximum number of asynchronous reports including periodic and trigger&gt;"<br/>
</p>
<p>A sample file is provided below</p>
<p>agent_ip=127.0.0.1<br/>
 agent_port=8080<br/>
 bstapp_port=9070<br/>
 bstapp_max_reports=10<br/>
</p>
<p>A sample configuration file is part of the distribution at &lt;broadview-base&gt;/example/bst_app/bstapp_config.cfg. Any Linux text editor can be used to edit this file to suit the needs. Any changes must be saved to the disk. The file must have Unix style line-endings.</p>
<p>No additional properties apart from those listed above are supported. If the configuration file can't be read by BroadViewBstApp, or if the file is corrupt, an error message is generated and factory default values are used.</p>
<p>Default BroadViewBstApp IP Address is 127.0.0.1<br/>
 Default BroadViewBstApp Port Number is 9070<br/>
 Default Agent Port Number is 8080<br/>
 Default Max Report is 10<br/>
</p>
<h1><a class="anchor" id="PT_APP_OPENNSL"></a>
BroadViewPacketTraceApp</h1>
<p>The configuration file for the BroadViewPacketTraceApp should be named as ptapp_config.cfg. The content of the file are properties described in name-value pairs, as mentioned below.</p>
<p>agent_ip="&lt;ip address of agent &gt;"<br/>
 agent_port="&lt;port number to which agent listens&gt;"<br/>
 ptapp_port="&lt;port number to which reference application should listen&gt;"<br/>
</p>
<p>A sample file is provided below.</p>
<pre>
agent_ip=127.0.0.1
agent_port=8080
ptapp_port=9070
</pre><p>A sample configuration file is part of the distribution at &lt;broadview&gt;/example/packet_trace_app/ptapp_config.cfg. Any Linux text editor can be used to edit this file to suit the needs. Any changes must be saved to the disk. The file must have Unix style line-endings. No additional properties apart from those listed above are supported. If the configuration file can't be read by BroadViewPacketTraceApp, or if the file is corrupt, an error message is generated and factory default values are used. </p>
<pre>
Default BroadViewPacketTraceApp IP Address is 127.0.0.1
Default BroadViewPacketTraceApp Port Number is 9070
Default Agent Port Number is 8080
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 17 2016 06:44:51 for BroadView&trade; API Guide and Reference Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
